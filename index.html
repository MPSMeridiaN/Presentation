<!DOCTYPE html>

<html lang="th">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Control &amp; Instrumentation (C&amp;I) - EGAT Maintenance</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Use EGAT colors for better branding uniformity
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'egat-blue': '#004d99',   /* ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á EGAT */
                        'egat-yellow': '#FFD700', /* ‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á/‡∏ó‡∏≠‡∏á (Accent) ‡∏Ç‡∏≠‡∏á EGAT */
                    },
                }
            }
        }
    </script>
    <style>
        /* Sarabun Font Import for Thai language support and formal tone */
        @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@100;300;400;500;600;700&family=Inter:wght@100..900&display=swap');
        
        body {
            font-family: 'Sarabun', 'Inter', sans-serif; 
            background-color: #ffffff;
	    /* ADD THIS LINE for smooth color transitions */
            transition: background-color 0.5s ease, color 0.5s ease;
            color: #000000; /* Default text color */
        }

        /* Custom scrollbar style for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #aab4c3;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #7d899b;
        }
        
        /* Apply all transitions and default states via CSS for consistency */
        .content-section {
            transition: opacity 0.3s ease-in-out;
        }

        .dropdown-menu {
            display: none; 
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.3s ease-out, transform 0.3s ease-out;
            min-width: 250px;
        }

        .dropdown:hover .dropdown-menu {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        /* Active navigation link style (for JS control) */
        .nav-active-link {
            color: var(--egat-yellow, #FFD700) !important; 
            text-decoration: underline;
            text-decoration-thickness: 3px;
            text-underline-offset: 4px;
        }
        
        /* Modal Transitions: Use CSS classes that JS can toggle */
        .modal-backdrop-transition {
            transition: opacity 0.3s ease-out;
        }

        .modal-content-transition {
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
        }

	.hidden-content {
    	    max-height: 0;
    	    opacity: 0;
    	    transform: translateY(-10px);
    	    overflow: hidden;
    	    pointer-events: none;
	}

	#apiKeySection {
    	    max-height: 500px;
    	    opacity: 1;
    	    transform: translateY(0);
    	    transition: max-height 0.6s ease-in-out, opacity 0.6s ease-in-out, transform 0.6s ease-in-out;
    	    overflow: hidden;
	}	

	#apiKeySection.hidden-content {
   	    max-height: 0;
	    opacity: 0;
	    transform: translateY(-10px);
	    pointer-events: none;
	}

	body.dark {
	    /* These colors are taken from your existing JavaScript toggle logic */
	    background-color: #1C2833; 
	    color: #EAECEE;             
	}

	.collapsible-content {
	    /* Define the open state max-height (use a large value that exceeds content height) */
	    max-height: 1000px; 
	    opacity: 1;
	    transform: translateY(0);
	    /* Apply smooth transition for opening/closing */
	    transition: max-height 0.6s ease-in-out, opacity 0.6s ease-in-out, transform 0.6s ease-in-out;
	    overflow: hidden;
	}

	.collapsible-content.hidden-content {
	    max-height: 0; /* Fully closed */
	    opacity: 0;
	    transform: translateY(-10px);
	}	

    
.collapsible-content.expanded {
    max-height: 1000px !important;
    opacity: 1 !important;
    transform: translateY(0) !important;
    pointer-events: auto !important;
}


/* --- Unified transition timing across the entire site --- */
* {
  transition: all 0.35s ease-in-out;
}

/* Accordion, modal, dropdown, and section consistency */
.collapsible-content,
.modal-content-transition,
.modal-backdrop-transition,
.dropdown-menu,
.content-section {
  transition: all 0.35s ease-in-out;
}

/* API key section smooth collapse with zero spacing */
#apiKeySection {
  margin-bottom: 1rem;
  padding-bottom: 1rem;
  transition: max-height 0.35s ease-in-out, opacity 0.35s ease-in-out,
              transform 0.35s ease-in-out, margin 0.35s ease-in-out, padding 0.35s ease-in-out;
}

#apiKeySection.hidden-content {
  max-height: 0;
  opacity: 0;
  transform: translateY(-10px);
  pointer-events: none;
  margin: 0 !important;
  padding: 0 !important;
}

/* Slightly adjust spacing of main header area when API box hides */
#apiKeySection.hidden-content + header,
#apiKeySection.hidden-content + header + * {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Ensure header + main adjust smoothly */
header + main {
  transition: padding-top 0.35s ease-in-out, margin-top 0.35s ease-in-out;
}

</style>

</head>

<body class="antialiased dark">
    <header class="bg-egat-blue shadow-xl sticky top-0 z-20">
        <div class="container mx-auto px-4 py-5 md:py-6 flex justify-between items-center">
            <h1 class="text-2xl md:text-3xl font-bold text-white tracking-tight">
                C&amp;I Maintenance Team
            </h1>
            <nav class="flex items-center" id="main-nav">
                <a class="nav-link text-white hover:text-egat-yellow transition duration-300 text-sm md:text-base ml-4 hover:underline nav-active-link font-bold" data-target="overview" href="#overview">Overview</a>
                <a class="nav-link text-white hover:text-egat-yellow transition duration-300 text-sm md:text-base ml-4 hover:underline" data-target="details" href="#details">Details</a>
                <div class="relative ml-4 dropdown group">
                    <a class="nav-link text-white hover:text-egat-yellow transition duration-300 text-sm md:text-base hover:underline flex items-center" data-target="training" href="#">
                        On the Job Training
                        <svg class="w-4 h-4 ml-1 transform transition duration-300 group-hover:rotate-180" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 9l-7 7-7-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>
</a>
                    <div class="dropdown-menu absolute top-full right-0 w-64 bg-egat-blue shadow-xl rounded-md overflow-hidden z-30 border border-egat-yellow/50">
                        <a class="nav-link nav-dropdown-link block px-4 py-3 text-white text-sm hover:bg-egat-blue/70 hover:text-egat-yellow transition duration-200" data-parent-target="training" data-target="combined_cycle" href="#combined_cycle">
                            Combined Cycle Power Plant
                        </a>
                        <a class="nav-link nav-dropdown-link block px-4 py-3 text-white text-sm hover:bg-egat-blue/70 hover:text-egat-yellow transition duration-200" data-parent-target="training" data-target="solar_power" href="#solar_power">
                            Solar Power Plant
                        </a>
                    </div>
                </div>
                <a class="nav-link text-white hover:text-egat-yellow transition duration-300 text-sm md:text-base ml-4 hover:underline" data-target="simulations" href="#simulations">Simulations</a></nav>
        </div>
    </header>
    <main class="container mx-auto px-4 py-10 md:py-14">
        <section class="content-section mb-16 opacity-100" id="overview">
            <div class="max-w-5xl mx-auto p-8 rounded-xl shadow-2xl bg-white border border-gray-200">
                <div class="text-center">
                    <h2 class="text-3xl md:text-4xl font-extrabold text-egat-blue mb-2">
                        Control &amp; Instrumentation (C&amp;I)
                    </h2>
                    <h3 class="text-xl text-gray-700 font-medium mb-6">
                        Control &amp; Instrumentation Maintenance Team Overview
                    </h3>
                    <p class="text-lg text-gray-600 max-w-4xl mx-auto border-b border-egat-yellow pb-4 mb-8">
                        C&amp;I Maintenance Team ‡∏Ñ‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡∏•‡∏¥‡∏ï‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡πÇ‡∏î‡∏¢‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏î‡∏π‡πÅ‡∏•‡πÅ‡∏•‡∏∞‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (DCS/PLC) ‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏£‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡πÅ‡∏•‡∏∞‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏™‡∏≤‡∏Å‡∏•
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                    <div class="p-6 rounded-lg bg-egat-blue/5 border border-egat-blue/20 shadow-md">
                        <svg class="w-8 h-8 mx-auto text-egat-blue mb-3" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
                        </svg>
                        <h4 class="font-semibold text-lg text-gray-800 mb-1">System Stability</h4>
                        <p class="text-sm text-gray-600">‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</p>
                    </div>
                    <div class="p-6 rounded-lg bg-egat-blue/5 border border-egat-blue/20 shadow-md">
                        <svg class="w-8 h-8 mx-auto text-egat-blue mb-3" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13 10V3L4 14h7v7l9-11h-7z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
                        </svg>
                        <h4 class="font-semibold text-lg text-gray-800 mb-1">Maximum Efficiency</h4>
                        <p class="text-sm text-gray-600">‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÅ‡∏•‡∏∞‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÄ‡∏ä‡∏¥‡∏á‡∏£‡∏∏‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô</p>
                    </div>
                    <div class="p-6 rounded-lg bg-egat-blue/5 border border-egat-blue/20 shadow-md">
                        <svg class="w-8 h-8 mx-auto text-egat-blue mb-3" fill="none" stroke="currentColor" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
                            <path d="M9 12l2 2 4-4" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
                        </svg>
                        <h4 class="font-semibold text-lg text-gray-800 mb-1">Reliability &amp; Safety</h4>
                        <p class="text-sm text-gray-600">‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö SIS ‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏°‡∏≠</p>
                    </div>
                </div>
            </div>
        </section>
        <section class="content-section hidden mb-16 opacity-0" id="details">
            <div class="max-w-5xl mx-auto p-8 rounded-xl shadow-2xl bg-white border border-gray-200">
                <h2 class="text-3xl md:text-4xl font-extrabold text-egat-blue mb-2 text-center">
                    Work Details
                </h2>
                <p class="text-lg text-gray-600 max-w-4xl mx-auto border-b border-egat-yellow pb-4 mb-8 text-center">
                    ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡∏° C&amp;I
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="detail-card bg-gray-50 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 cursor-pointer hover:ring-2 hover:ring-egat-blue" data-detail="intro">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-4xl text-egat-blue">üìù</span>
                        </div>
                        <h3 class="text-xl font-semibold text-egat-blue mb-1">Introduction &amp; Organizational Structure</h3>
                        <p class="text-gray-500 text-sm">‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏Å‡∏±‡∏ö C&amp;I ‡πÅ‡∏•‡∏∞‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£</p>
                    </div>
                    <div class="detail-card bg-gray-50 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 cursor-pointer hover:ring-2 hover:ring-egat-blue" data-detail="core_work">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-4xl text-egat-blue">üõ†Ô∏è</span>
                        </div>
                        <h3 class="text-xl font-semibold text-egat-blue mb-1">Core C&amp;I Functions</h3>
                        <p class="text-gray-500 text-sm">‡πÅ‡∏¢‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î</p>
                    </div>
                    <div class="detail-card bg-gray-50 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 cursor-pointer hover:ring-2 hover:ring-egat-blue" data-detail="system_overview">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-4xl text-egat-blue">‚öôÔ∏è</span>
                        </div>
                        <h3 class="text-xl font-semibold text-egat-blue mb-1">Control &amp; Instrumentation Systems</h3>
                        <p class="text-gray-500 text-sm">‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
                    </div>
                    <div class="detail-card bg-gray-50 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 cursor-pointer hover:ring-2 hover:ring-egat-blue" data-detail="maintenance">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-4xl text-egat-blue">üîß</span>
                        </div>
                        <h3 class="text-xl font-semibold text-egat-blue mb-1">Maintenance and Repair</h3>
                        <p class="text-gray-500 text-sm">‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö</p>
                    </div>
                    <div class="detail-card bg-gray-50 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 cursor-pointer hover:ring-2 hover:ring-egat-blue" data-detail="safety">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-4xl text-egat-blue">üõ°Ô∏è</span>
                        </div>
                        <h3 class="text-xl font-semibold text-egat-blue mb-1">Safety and Compliance</h3>
                        <p class="text-gray-500 text-sm">‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á</p>
                    </div>
                    <div class="detail-card bg-gray-50 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 cursor-pointer hover:ring-2 hover:ring-egat-blue" data-detail="future">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-4xl text-egat-blue">üí°</span>
                        </div>
                        <h3 class="text-xl font-semibold text-egat-blue mb-1">Technology and Future</h3>
                        <p class="text-gray-500 text-sm">‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÉ‡∏´‡∏°‡πà</p>
                    </div>
                </div>
            </div>
        </section>
        <section class="content-section hidden mb-16 opacity-0" id="training">
            <div class="max-w-5xl mx-auto p-8 rounded-xl shadow-2xl bg-white border border-gray-200">
                <div class="text-center">
                    <h2 class="text-3xl md:text-4xl font-extrabold text-egat-blue mb-2">
                        On the Job Training Resources
                    </h2>
                    <p class="text-lg text-gray-600 max-w-4xl mx-auto border-b border-egat-yellow pb-4 mb-8 text-center">
                        ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡πÅ‡∏´‡∏•‡πà‡∏á‡∏£‡∏ß‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°‡πÉ‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏á‡∏≤‡∏ô C&amp;I
                    </p>
                    <p class="text-lg text-gray-600 max-w-4xl mx-auto">
                        ‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏¢‡πà‡∏≠‡∏¢‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô (Combined Cycle Power Plant ‡∏´‡∏£‡∏∑‡∏≠ Solar Power Plant) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
                    </p>
                </div>
            </div>
        </section>
        <section class="content-section hidden mb-16 opacity-0" id="combined_cycle">
            <div class="max-w-5xl mx-auto p-8 rounded-xl shadow-2xl bg-white border border-gray-200">
                <div class="text-center">
                    <h2 class="text-3xl md:text-4xl font-extrabold text-egat-blue mb-2 text-center">
                        Combined Cycle Power Plant
                    </h2>
                    <p class="text-lg text-gray-600 max-w-4xl mx-auto border-b border-egat-yellow pb-4 mb-8 text-center">
                        ‡πÇ‡∏£‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏û‡∏•‡∏±‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏£‡πà‡∏ß‡∏°‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÅ‡∏ö‡∏ö 2 ‡∏ß‡∏±‡∏è‡∏à‡∏±‡∏Å‡∏£ (Cycle) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
                    </p>
                </div>
                <div class="mb-10 p-6 bg-egat-blue/5 rounded-lg border border-egat-blue/10 shadow-md">
                    <h3 class="text-2xl font-bold text-egat-blue mb-3 text-center">Fundamental Principles and Operating Cycles</h3>
                    <p class="text-gray-700 mb-4 text-center">Combined Cycle ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏£‡∏ß‡∏° ‡∏ß‡∏±‡∏è‡∏à‡∏±‡∏Å‡∏£‡πÄ‡∏ö‡∏£‡∏¢‡πå‡∏ï‡∏±‡∏ô (Brayton Cycle) ‡∏à‡∏≤‡∏Å‡∏Å‡∏±‡∏á‡∏´‡∏±‡∏ô‡∏Å‡πä‡∏≤‡∏ã ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö ‡∏ß‡∏±‡∏è‡∏à‡∏±‡∏Å‡∏£‡πÅ‡∏£‡∏á‡∏Ñ‡∏¥‡∏ô (Rankine Cycle) ‡∏à‡∏≤‡∏Å‡∏Å‡∏±‡∏á‡∏´‡∏±‡∏ô‡πÑ‡∏≠‡∏ô‡πâ‡∏≥ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ó‡∏¥‡πâ‡∏á‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏ã‡πâ‡∏≥</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                        <div class="detail-card bg-white p-6 rounded-lg shadow-lg border border-gray-100 cursor-pointer hover:shadow-xl transition duration-300 hover:ring-2 hover:ring-egat-blue" data-detail="cc_brayton_cycle">
                            <h4 class="font-semibold text-xl text-gray-800 mb-2 flex items-center">
<span class="text-egat-blue text-2xl mr-2 font-extrabold">1.</span> Brayton Cycle (Gas Turbine)
                            </h4>
                            <p class="text-sm text-gray-600 mb-2">‡πÄ‡∏ú‡∏≤‡πÑ‡∏´‡∏°‡πâ‡∏Å‡πä‡∏≤‡∏ã‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏±‡∏ö‡∏Å‡∏±‡∏á‡∏´‡∏±‡∏ô (Gas Turbine) ‡∏ú‡∏•‡∏¥‡∏ï‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏£‡∏≠‡∏ö‡πÅ‡∏£‡∏Å</p>
                            <p class="text-sm text-egat-blue font-medium">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó C&amp;I ‡πÉ‡∏ô‡∏ß‡∏±‡∏è‡∏à‡∏±‡∏Å‡∏£‡πÄ‡∏ö‡∏£‡∏¢‡πå‡∏ï‡∏±‡∏ô...</p>
                        </div>
                        <div class="detail-card bg-white p-6 rounded-lg shadow-lg border border-gray-100 cursor-pointer hover:shadow-xl transition duration-300 hover:ring-2 hover:ring-egat-blue" data-detail="cc_rankine_cycle">
                            <h4 class="font-semibold text-xl text-gray-800 mb-2 flex items-center">
<span class="text-egat-blue text-2xl mr-2 font-extrabold">2.</span> Rankine Cycle (Steam Turbine)
                            </h4>
                            <p class="text-sm text-gray-600 mb-2">‡∏ô‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏à‡∏≤‡∏Å‡πÑ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏°‡∏≤‡∏ú‡∏•‡∏¥‡∏ï‡πÑ‡∏≠‡∏ô‡πâ‡∏≥ (HRSG) ‡∏Ç‡∏±‡∏ö‡∏Å‡∏±‡∏á‡∏´‡∏±‡∏ô‡πÑ‡∏≠‡∏ô‡πâ‡∏≥</p>
                            <p class="text-sm text-egat-blue font-medium">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó C&amp;I ‡πÉ‡∏ô‡∏ß‡∏±‡∏è‡∏à‡∏±‡∏Å‡∏£‡πÅ‡∏£‡∏á‡∏Ñ‡∏¥‡∏ô...</p>
                        </div>
                    </div>
                </div>
                <h3 class="text-2xl font-bold text-egat-blue mb-4 text-center border-b border-gray-200 pb-2">In-Depth Details (Click for C&amp;I Role)</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="detail-card bg-gray-50 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 cursor-pointer hover:ring-2 hover:ring-egat-blue" data-detail="cc_gasturbine">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-4xl text-egat-blue">üî•</span>
                        </div>
                        <h3 class="text-xl font-semibold text-egat-blue mb-1">Gas Turbine (GT) and Combustion</h3>
                        <p class="text-gray-500 text-sm">‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥, ‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á, ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢</p>
                    </div>
                    <div class="detail-card bg-gray-50 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 cursor-pointer hover:ring-2 hover:ring-egat-blue" data-detail="cc_hrsg">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-4xl text-egat-blue">‚ô®Ô∏è</span>
                        </div>
                        <h3 class="text-xl font-semibold text-egat-blue mb-1">HRSG (Heat Recovery Steam Generator)</h3>
                        <p class="text-gray-500 text-sm">‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô, ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÑ‡∏≠‡∏ô‡πâ‡∏≥, ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥</p>
                    </div>
                    <div class="detail-card bg-gray-50 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 cursor-pointer hover:ring-2 hover:ring-egat-blue" data-detail="cc_steamturbine">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-4xl text-egat-blue">üíß</span>
                        </div>
                        <h3 class="text-xl font-semibold text-egat-blue mb-1">Steam Turbine (ST) and Balance of Plant (BOP)</h3>
                        <p class="text-gray-500 text-sm">‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á ST, ‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏î‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå, ‡πÅ‡∏•‡∏∞‡∏õ‡∏±‡πä‡∏°</p>
                    </div>
                </div>
                <div class="mt-12">
                    <h3 class="text-2xl font-bold text-egat-blue mb-4 text-center border-b border-gray-200 pb-2">Central Control Systems</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-center">
                        <div class="detail-card p-4 rounded-lg bg-gray-50 border border-egat-blue/20 cursor-pointer hover:shadow-md transition duration-300 hover:ring-2 hover:ring-egat-blue" data-detail="cc_dcs">
                            <span class="text-3xl text-egat-blue block mb-1">üñ•Ô∏è</span>
                            <h4 class="font-semibold text-lg text-gray-800">DCS (Distributed Control System)</h4>
                            <p class="text-sm text-gray-600">‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏£‡∏ß‡∏°, ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•, ‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï</p>
                        </div>
                        <div class="detail-card p-4 rounded-lg bg-gray-50 border border-egat-blue/20 cursor-pointer hover:shadow-md transition duration-300 hover:ring-2 hover:ring-egat-blue" data-detail="cc_bms">
                            <span class="text-3xl text-egat-blue block mb-1">üö®</span>
                            <h4 class="font-semibold text-lg text-gray-800">BMS (Burner Management System)</h4>
                            <p class="text-sm text-gray-600">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏à‡∏∏‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏î‡∏±‡∏ö‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</p>
                        </div>
                        <div class="detail-card p-4 rounded-lg bg-gray-50 border border-egat-blue/20 cursor-pointer hover:shadow-md transition duration-300 hover:ring-2 hover:ring-egat-blue" data-detail="cc_vibration">
                            <span class="text-3xl text-egat-blue block mb-1">‚öôÔ∏è</span>
                            <h4 class="font-semibold text-lg text-gray-800">Vibration Monitoring System</h4>
                            <p class="text-sm text-gray-600">‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡∏±‡∏î‡πÅ‡∏•‡∏∞‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡∏à‡∏≤‡∏Å‡πÅ‡∏£‡∏á‡∏™‡∏±‡πà‡∏ô‡∏™‡∏∞‡πÄ‡∏ó‡∏∑‡∏≠‡∏ô</p>
                        </div>
                        <div class="detail-card p-4 rounded-lg bg-gray-50 border border-egat-blue/20 cursor-pointer hover:shadow-md transition duration-300 hover:ring-2 hover:ring-egat-blue" data-detail="cc_cems">
                            <span class="text-3xl text-egat-blue block mb-1">üß™</span>
                            <h4 class="font-semibold text-lg text-gray-800">CEMS (Continuous Emission Monitoring)</h4>
                            <p class="text-sm text-gray-600">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏°‡∏•‡∏û‡∏¥‡∏©‡∏à‡∏≤‡∏Å‡∏õ‡∏•‡πà‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="content-section hidden mb-16 opacity-0" id="solar_power">
            <div class="max-w-5xl mx-auto p-8 rounded-xl shadow-2xl bg-white border border-gray-200">
                <div class="text-center">
                    <h2 class="text-3xl md:text-4xl font-extrabold text-egat-blue mb-2"> 
                        Solar Power Plant
                    </h2>
                    <p class="text-lg text-gray-600 max-w-4xl mx-auto border-b border-egat-yellow pb-4 mb-8 text-center">
                        ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á C&amp;I ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏™‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏Ç‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡∏ü‡πâ‡∏≤
                    </p>
                </div>
                <div class="mb-10 p-6 bg-egat-yellow/5 rounded-lg border border-egat-yellow/10 shadow-md">
                    <h3 class="text-2xl font-bold text-egat-blue mb-3 text-center">Fundamental Process and Energy Conversion</h3>
                    <p class="text-gray-700 mb-4 text-center">‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏™‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå (Solar PV) ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á‡πÅ‡∏™‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡∏ï‡∏≤‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏Ç‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                        <div class="detail-card bg-white p-6 rounded-lg shadow-lg border border-gray-100 cursor-pointer hover:shadow-xl transition duration-300 hover:ring-2 hover:ring-egat-yellow" data-detail="sp_dc_generation">
                            <h4 class="font-semibold text-xl text-gray-800 mb-2 flex items-center">
<span class="text-egat-blue text-2xl mr-2 font-extrabold">1.</span> DC Generation (PV Array)
                            </h4>
                            <p class="text-sm text-gray-600 mb-2">‡πÅ‡∏ú‡∏á‡πÇ‡∏ã‡∏•‡∏≤‡∏£‡πå‡πÄ‡∏ã‡∏•‡∏•‡πå‡∏à‡∏∞‡∏£‡∏±‡∏ö‡πÇ‡∏ü‡∏ï‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏ï‡∏£‡∏á (DC)</p>
                            <p class="text-sm text-egat-blue font-medium">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó C&amp;I ‡πÉ‡∏ô‡∏ä‡∏∏‡∏î‡πÅ‡∏ú‡∏á‡πÄ‡∏ã‡∏•‡∏•‡πå‡πÅ‡∏™‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå...</p>
                        </div>
                        <div class="detail-card bg-white p-6 rounded-lg shadow-lg border border-gray-100 cursor-pointer hover:shadow-xl transition duration-300 hover:ring-2 hover:ring-egat-yellow" data-detail="sp_ac_conversion">
                            <h4 class="font-semibold text-xl text-gray-800 mb-2 flex items-center">
<span class="text-egat-blue text-2xl mr-2 font-extrabold">2.</span> AC Conversion (Inverter)
                            </h4>
                            <p class="text-sm text-gray-600 mb-2">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏ï‡∏£‡∏á (DC) ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏™‡∏•‡∏±‡∏ö (AC) ‡πÅ‡∏•‡∏∞‡∏ã‡∏¥‡∏á‡πÇ‡∏Ñ‡∏£‡πÑ‡∏ô‡∏ã‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏Ç‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</p>
                            <p class="text-sm text-egat-blue font-medium">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó C&amp;I ‡πÉ‡∏ô‡∏≠‡∏¥‡∏ô‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÄ‡∏ï‡∏≠‡∏£‡πå...</p>
                        </div>
                    </div>
                </div>
                <h3 class="text-2xl font-bold text-egat-blue mb-4 text-center border-b border-gray-200 pb-2">Key C&amp;I Components (Click for Details)</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="detail-card bg-gray-50 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 cursor-pointer hover:ring-2 hover:ring-egat-blue" data-detail="sp_inverters">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-4xl text-egat-blue">‚ö°</span>
                        </div>
                        <h3 class="text-xl font-semibold text-egat-blue mb-1">Inverter and MPPT Control</h3>
                        <p class="text-gray-500 text-sm">‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏à‡∏∏‡∏î‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</p>
                    </div>
                    <div class="detail-card bg-gray-50 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 cursor-pointer hover:ring-2 hover:ring-egat-blue" data-detail="sp_weather">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-4xl text-egat-blue">‚òÅÔ∏è</span>
                        </div>
                        <h3 class="text-xl font-semibold text-egat-blue mb-1">Weather Monitoring Station</h3>
                        <p class="text-gray-500 text-sm">‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡πÅ‡∏™‡∏á ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏•‡∏°</p>
                    </div>
                    <div class="detail-card bg-gray-50 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 cursor-pointer hover:ring-2 hover:ring-egat-blue" data-detail="sp_protection">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-4xl text-egat-blue">üõ°Ô∏è</span>
                        </div>
                        <h3 class="text-xl font-semibold text-egat-blue mb-1">Safety and Grid Protection</h3>
                        <p class="text-gray-500 text-sm">‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏±‡∏î‡∏ß‡∏á‡∏à‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏Ç‡πà‡∏≤‡∏¢</p>
                    </div>
                </div>
                <div class="mt-12">
                    <h3 class="text-2xl font-bold text-egat-blue mb-4 text-center border-b border-gray-200 pb-2">Control and Monitoring Systems</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-center">
                        <div class="detail-card p-4 rounded-lg bg-gray-50 border border-egat-blue/20 cursor-pointer hover:shadow-md transition duration-300 hover:ring-2 hover:ring-egat-blue" data-detail="sp_scada">
                            <span class="text-3xl text-egat-blue block mb-1">üñ•Ô∏è</span>
                            <h4 class="font-semibold text-lg text-gray-800">SCADA/PPC (Plant Controller)</h4>
                            <p class="text-sm text-gray-600">‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏£‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</p>
                        </div>
                        <div class="detail-card p-4 rounded-lg bg-gray-50 border border-egat-blue/20 cursor-pointer hover:shadow-md transition duration-300 hover:ring-2 hover:ring-egat-blue" data-detail="sp_tracker">
                            <span class="text-3xl text-egat-blue block mb-1">‚öôÔ∏è</span>
                            <h4 class="font-semibold text-lg text-gray-800">Tracking System C&amp;I</h4>
                            <p class="text-sm text-gray-600">‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏ã‡πá‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå</p>
                        </div>
                        <div class="detail-card p-4 rounded-lg bg-gray-50 border border-egat-blue/20 cursor-pointer hover:shadow-md transition duration-300 hover:ring-2 hover:ring-egat-blue" data-detail="sp_dccomps">
                            <span class="text-3xl text-egat-blue block mb-1">üîå</span>
                            <h4 class="font-semibold text-lg text-gray-800">DC Component Monitoring</h4>
                            <p class="text-sm text-gray-600">‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏Å‡∏£‡∏∞‡πÅ‡∏™/‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô DC ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö String/Array</p>
                        </div>
                        <div class="detail-card p-4 rounded-lg bg-gray-50 border border-egat-blue/20 cursor-pointer hover:shadow-md transition duration-300 hover:ring-2 hover:ring-egat-blue" data-detail="sp_ir_temp">
                            <span class="text-3xl text-egat-blue block mb-1">üå°Ô∏è</span>
                            <h4 class="font-semibold text-lg text-gray-800">IR Temperature Sensing</h4>
                            <p class="text-sm text-gray-600">‡∏Å‡∏≤‡∏£‡πÄ‡∏ù‡πâ‡∏≤‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏™‡∏π‡∏á‡πÉ‡∏ô‡∏à‡∏∏‡∏î‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡∏∞‡πÅ‡∏ú‡∏á</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="content-section hidden mb-16 opacity-0" id="simulations">

            <body class="p-4 md:p-8 min-h-screen relative">
                <!-- Floating Settings Button (Gear Icon) -->
                <button class="p-2 bg-gray-700 hover:bg-blue-500 text-blue-300 hover:text-white rounded-full transition duration-200 shadow-lg" id="settingsGearButton">
                    <svg class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.568.32 1.32.32 1.888 0 1.543-.94 3.31-.826 2.37-2.37a1.724 1.724 0 00-1.065-2.572zM12 12a3 3 0 100-6 3 3 0 000 6z"
                        stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                </button>
                <div class="max-w-4xl mx-auto">
                    <!-- API Key Input Section (Initially hidden if key is present) -->
                    <div class="bg-[#2C3E50] p-5 rounded-xl shadow-lg mb-6 border border-[#5DADE2]" id="apiKeySection">
                        <h2 class="text-xl font-semibold mb-3 text-white flex items-center">
                üîë Gemini API Key Setup
            </h2>
                        <div class="flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-3 items-end">
                            <div class="flex-grow w-full">
                                <label class="block text-sm font-medium text-gray-300 mb-1" for="apiKeyInput">
                                    ‡πÇ‡∏õ‡∏£‡∏î‡πÉ‡∏™‡πà Gemini API Key ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:
                                </label>
                                <input class="w-full px-4 py-2 border border-gray-600 rounded-lg bg-[#34495E] text-white focus:ring-blue-400 focus:border-blue-400 transition duration-150" id="apiKeyInput" placeholder="PASTE_YOUR_GEMINI_API_KEY_HERE" type="password" />
                            </div>
                            <button class="px-5 py-2 bg-[#3498DB] hover:bg-[#5DADE2] text-white font-bold rounded-lg transition duration-200 w-full md:w-auto shadow-md" id="saveApiKeyButton">
                                ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å/‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï
                            </button>
                        </div>
                        <p class="mt-2 text-sm font-medium text-gray-400" id="apiKeyStatus"></p>
                    </div>
                    <!-- End API Key Input Section -->
                    <!-- Header -->
                    <header class="text-center mb-10 mt-10 md:mt-0">
                        <h1 class="text-4xl font-extrabold text-[#5DADE2] mb-2">‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÇ‡∏£‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ CCPP</h1>
                        <p class="text-lg text-gray-400 flex justify-center items-center">
                            ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏´‡∏ï‡∏∏‡∏Ç‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏á
                            <span id="modelBadge">Model: gemini-2.0-flash</span>
                        </p>
                    </header>
                    <!-- Main Action Button -->
                    <div class="flex justify-center mb-10">
                        <button class="px-8 py-3 bg-[#3498DB] hover:bg-[#5DADE2] text-white font-bold rounded-xl shadow-lg transition duration-300 transform hover:scale-[1.02] active:scale-[0.98] focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-opacity-50 flex items-center disabled:opacity-50 disabled:cursor-not-allowed"
                        id="generateButton">
                            <svg class="h-6 w-6 mr-2" fill="none" stroke="currentColor" stroke-width="2" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                            ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Ç‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà
                        </button>
                    </div>
                    <!-- Loading/Error Indicator -->
                    <div class="text-center text-lg mb-6 h-6" id="statusArea"></div>
                    <!-- Scenario Container -->
                    <div class="space-y-6" id="scenarioContainer">
                        <!-- SCENARIO TITLE & GRADE LEVEL (Hidden initially, shown when RCA is opened) -->
                        <div class="hidden fade-in space-y-2 pb-2" id="spoilerHeaders">
                            <h2 class="text-3xl font-bold text-[#5DADE2]" id="scenarioTitle"></h2>
                            <p class="text-sm font-medium text-gray-400" id="gradeLevel"></p>
                        </div>
                        <!-- 1. Event Description (NOW an Accordion) -->
                        <div class="accordion-item rounded-xl shadow-xl">
                            <button class="accordion-header flex justify-between items-center w-full p-5 text-left bg-[#2C3E50] hover:bg-[#34495E] rounded-xl transition duration-200" data-target="eventDescriptionContent">
                                <h3 class="text-xl font-semibold text-[#5DADE2]">üö® Event Description (‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå)</h3>
                                <svg class="h-6 w-6 text-[#5DADE2] transform transition-transform duration-300" data-arrow="eventDescriptionContent" fill="none" stroke="currentColor" viewbox="0 0 24 24">
                                    <path d="M19 9l-7 7-7-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
                                </svg>
                            </button>
                            <div class="collapsible-content hidden-content" id="eventDescriptionContent">
                                <div class="accordion-content-body p-6 rounded-b-xl border-t-0">
                                    <p class="whitespace-pre-wrap text-gray-300" id="eventDescriptionText">‡πÇ‡∏õ‡∏£‡∏î‡πÉ‡∏™‡πà API Key ‡πÅ‡∏•‡∏∞‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Ç‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á</p>
                                </div>
                            </div>
                        </div>
                        <!-- 2. Root Cause Analysis (RCA) - Accordion -->
                        <div class="accordion-item rounded-xl shadow-xl">
                            <button class="accordion-header flex justify-between items-center w-full p-5 text-left bg-[#2C3E50] hover:bg-[#34495E] rounded-xl transition duration-200" data-is-spoiler="true" data-target="rootCauseContent">
                                <h3 class="text-xl font-semibold text-[#5DADE2]">üîç Root Cause Analysis (RCA)</h3>
                                <svg class="h-6 w-6 text-[#5DADE2] transform transition-transform duration-300" data-arrow="rootCauseContent" fill="none" stroke="currentColor" viewbox="0 0 24 24">
                                    <path d="M19 9l-7 7-7-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
                                </svg>
                            </button>
                            <div class="collapsible-content hidden-content" id="rootCauseContent">
                                <div class="accordion-content-body p-6 rounded-b-xl border-t-0">
                                    <p class="whitespace-pre-wrap text-gray-300" id="rootCauseText"></p>
                                </div>
                            </div>
                        </div>
                        <!-- 3. Immediate Solution - Accordion -->
                        <div class="accordion-item rounded-xl shadow-xl">
                            <button class="accordion-header flex justify-between items-center w-full p-5 text-left bg-[#2C3E50] hover:bg-[#34495E] rounded-xl transition duration-200" data-target="solutionContent">
                                <h3 class="text-xl font-semibold text-[#5DADE2]">‚úÖ Immediate Solution (‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô)</h3>
                                <svg class="h-6 w-6 text-[#5DADE2] transform transition-transform duration-300" data-arrow="solutionContent" fill="none" stroke="currentColor" viewbox="0 0 24 24">
                                    <path d="M19 9l-7 7-7-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
                                </svg>
                            </button>
                            <div class="collapsible-content hidden-content" id="solutionContent">
                                <div class="accordion-content-body p-6 rounded-b-xl border-t-0">
                                    <p class="whitespace-pre-wrap text-gray-300" id="immediateSolutionText"></p>
                                </div>
                            </div>
                        </div>
                        <!-- 4. Preventative Measures - Accordion -->
                        <div class="accordion-item rounded-xl shadow-xl">
                            <button class="accordion-header flex justify-between items-center w-full p-5 text-left bg-[#2C3E50] hover:bg-[#34495E] rounded-xl transition duration-200" data-target="precautionsContent">
                                <h3 class="text-xl font-semibold text-[#5DADE2]">üõ°Ô∏è Preventative Measures (‡∏°‡∏≤‡∏ï‡∏£‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô)</h3>
                                <svg class="h-6 w-6 text-[#5DADE2] transform transition-transform duration-300" data-arrow="precautionsContent" fill="none" stroke="currentColor" viewbox="0 0 24 24">
                                    <path d="M19 9l-7 7-7-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
                                </svg>
                            </button>
                            <div class="collapsible-content hidden-content" id="precautionsContent">
                                <div class="accordion-content-body p-6 rounded-b-xl border-t-0">
                                    <p class="whitespace-pre-wrap text-gray-300" id="preventativeMeasuresText"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    // --- CONFIGURATION ---
                    const GEMINI_MODEL = "gemini-2.0-flash"; 
                    const MAX_RETRIES = 5;
            
                    // --- DOM ELEMENTS ---
                    const generateButton = document.getElementById('generateButton');
                    const statusArea = document.getElementById('statusArea');
                    const apiKeySection = document.getElementById('apiKeySection'); 
                    const settingsGearButton = document.getElementById('settingsGearButton'); 
            
                    const spoilerHeaders = document.getElementById('spoilerHeaders');
                    const scenarioTitle = document.getElementById('scenarioTitle');
                    const gradeLevel = document.getElementById('gradeLevel');
            
                    const eventDescriptionText = document.getElementById('eventDescriptionText');
                    const rootCauseText = document.getElementById('rootCauseText');
                    const immediateSolutionText = document.getElementById('immediateSolutionText');
                    const preventativeMeasuresText = document.getElementById('preventativeMeasuresText');
                    
                    const apiKeyInput = document.getElementById('apiKeyInput');
                    const saveApiKeyButton = document.getElementById('saveApiKeyButton');
                    const apiKeyStatus = document.getElementById('apiKeyStatus');
                    const modelBadge = document.getElementById('modelBadge');
            
                    let userApiKey = ""; 
                    let accordionHeaders; 
            
                    // --- API & SYSTEM PROMPTS ---
                    const responseSchema = {
                        type: "OBJECT",
                        properties: {
                            "scenarioTitle": { "type": "STRING", "description": "A concise title for the event. (English only)" },
                            "gradeLevel": { "type": "STRING", "description": "Inferred expertise level (e.g., Junior Engineer, Senior Advisor)." },
                            "eventDescription": { "type": "STRING", "description": "The detailed narrative of the trip or failure." },
                            "rootCauseAnalysis": { "type": "STRING", "description": "Detailed explanation of the component failure, physics, or sequence leading to the trip/failure." },
                            "immediateSolution": { "type": "STRING", "description": "The required immediate steps to resolve the issue and safely restore the unit." },
                            "preventativeMeasures": { "type": "STRING", "description": "Long-term procedures, maintenance changes, or design modifications to prevent recurrence." }
                        },
                        required: ["scenarioTitle", "gradeLevel", "eventDescription", "rootCauseAnalysis", "immediateSolution", "preventativeMeasures"]
                    };
            
                    const systemPrompt = `‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÇ‡∏£‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏£‡πà‡∏ß‡∏° (CCPP) ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏™‡∏π‡∏á ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Ç‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏•‡∏∞‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÇ‡∏£‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡πÇ‡∏î‡∏¢‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô JSON ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏©‡∏≤‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡πà‡∏á‡∏Ñ‡∏£‡∏±‡∏î ‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏™‡πà‡∏ß‡∏ô 'scenarioTitle' ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© ‡∏™‡πà‡∏ß‡∏ô 'eventDescription' ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥, ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô, ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•, ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤) ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÄ‡∏°‡∏ï‡∏£‡∏¥‡∏Å (Metric system) ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢ SI ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏≠‡∏á‡∏®‡∏≤‡πÄ‡∏ã‡∏•‡πÄ‡∏ã‡∏µ‡∏¢‡∏™ (¬∞C), ‡∏ö‡∏≤‡∏£‡πå (bar) ‡∏´‡∏£‡∏∑‡∏≠ kPa, ‡πÄ‡∏°‡∏Å‡∏∞‡∏ß‡∏±‡∏ï‡∏ï‡πå (MW) ‡πÅ‡∏•‡∏∞ ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°‡∏ï‡πà‡∏≠‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (kg/s) **‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô (eventDescription, rootCauseAnalysis, immediateSolution, preventativeMeasures) ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà (newline characters) ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡∏£‡∏£‡∏Ñ‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤/‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏™‡∏ö‡∏≤‡∏¢‡∏ï‡∏≤**`;
            
                    // --- UTILITY FUNCTIONS ---
            
                    /**
                     * Utility to implement exponential backoff retry logic for fetch.
                     */
                    async function fetchWithRetry(url, options, maxRetries = MAX_RETRIES) {
                        for (let attempt = 0; attempt < maxRetries; attempt++) {
                            try {
                                const response = await fetch(url, options);
                                if (response.ok) {
                                    return response;
                                }
            
                                const errorBody = await response.text(); 
                                let parsedErrorBody = {};
                                try {
                                    parsedErrorBody = JSON.parse(errorBody);
                                } catch (e) {
                                    // Ignore JSON parsing errors if body is not JSON
                                }
            
                                // Retry on server errors or transient issues (5xx, 429)
                                if (response.status >= 500 || response.status === 429) {
                                    if (parsedErrorBody.error && parsedErrorBody.error.message && parsedErrorBody.error.message.includes("Model is overloaded")) {
                                        console.error(`[Attempt ${attempt + 1}/${maxRetries}] Specific API Error 503: Model is overloaded.`, parsedErrorBody);
                                    } else {
                                        console.warn(`[Attempt ${attempt + 1}/${maxRetries}] API error ${response.status}. Retrying...`);
                                    }
                                    
                                    if (attempt < maxRetries - 1) {
                                        const delay = Math.pow(2, attempt) * 1000 + Math.random() * 1000;
                                        await new Promise(resolve => setTimeout(resolve, delay));
                                        continue;
                                    }
                                }
                                
                                // For client errors (4xx) or maxed retries, throw error
                                throw new Error(`API request failed with status ${response.status}: ${response.statusText}. Response: ${errorBody}`);
            
                            } catch (error) {
                                if (attempt < maxRetries - 1) {
                                    const delay = Math.pow(2, attempt) * 1000 + Math.random() * 1000;
                                    console.error(`[Attempt ${attempt + 1}/${maxRetries}] Fetch error: ${error.message}. Retrying in ${delay / 1000}s...`);
                                    await new Promise(resolve => setTimeout(resolve, delay));
                                    continue;
                                }
                                console.error("Exhausted retries due to persistent network/fetch error or final API error:", error); 
                                throw new Error(error.message || "Failed to fetch data after multiple retries.");
                            }
                        }
                        throw new Error("Failed to fetch data after multiple retries.");
                    }
                    
                    // --- API SECTION MANAGEMENT ---
                    
                    function showApiKeySection() {
                        apiKeySection.classList.remove('hidden-content');
                    }
            
                    function hideApiKeySection() {
                         apiKeySection.classList.add('hidden-content');
                    }
            
                    /**
                     * Loads API Key from local storage and updates the input field.
                     */
                    function loadApiKey() {
                        const storedKey = localStorage.getItem('geminiApiKey');
                        if (storedKey) {
                            userApiKey = storedKey;
                            apiKeyInput.value = storedKey;
                            apiKeyStatus.textContent = "API Key ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å Local Storage ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à.";
                            apiKeyStatus.classList.remove('text-red-600', 'text-amber-600');
                            apiKeyStatus.classList.add('text-green-500'); /* Changed to green-500 */
                            
                            generateButton.disabled = false;
                            generateButton.classList.remove('opacity-50', 'cursor-not-allowed');
                            
                            hideApiKeySection(); 
            
                            return true;
                        } else {
                            userApiKey = "";
                            apiKeyInput.value = "";
                            apiKeyStatus.textContent = "‡πÇ‡∏õ‡∏£‡∏î‡πÉ‡∏™‡πà API Key ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô.";
                            apiKeyStatus.classList.remove('text-green-500', 'text-red-600');
                            apiKeyStatus.classList.add('text-amber-500'); /* Changed to amber-500 */
                            
                            generateButton.disabled = true;
                            generateButton.classList.add('opacity-50', 'cursor-not-allowed');
                            
                            showApiKeySection(); 
            
                            return false;
                        }
                    }
            
                    /**
                     * Saves API Key to local storage.
                     */
                    function saveApiKey() {
                        const key = apiKeyInput.value.trim();
                        if (key) {
                            userApiKey = key;
                            localStorage.setItem('geminiApiKey', key);
                            apiKeyStatus.textContent = "API Key ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß! ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô";
                            apiKeyStatus.classList.remove('text-red-600', 'text-amber-500');
                            apiKeyStatus.classList.add('text-green-500'); 
                            
                            generateButton.disabled = false;
                            generateButton.classList.remove('opacity-50', 'cursor-not-allowed');
                            
                            hideApiKeySection(); 
            
                        } else {
                            userApiKey = "";
                            localStorage.removeItem('geminiApiKey');
                            apiKeyStatus.textContent = "API Key ‡∏ñ‡∏π‡∏Å‡∏•‡πâ‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß ‡πÇ‡∏õ‡∏£‡∏î‡πÉ‡∏™‡πà‡∏Ñ‡∏µ‡∏¢‡πå‡πÉ‡∏´‡∏°‡πà.";
                            apiKeyStatus.classList.remove('text-green-500', 'text-amber-500');
                            apiKeyStatus.classList.add('text-red-600'); 
                            
                            generateButton.disabled = true; 
                            generateButton.classList.add('opacity-50', 'cursor-not-allowed');
                            
                            showApiKeySection(); 
                        }
                        
                        // Update initial status after saving/clearing key
                        if (userApiKey) {
                             statusArea.textContent = "‡∏û‡∏£‡πâ‡∏≠‡∏°! ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° '‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Ç‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏•‡∏≠‡∏á.";
                             statusArea.classList.remove('text-red-600', 'text-amber-500');
                             statusArea.classList.add('text-green-500');
                        } else {
                             statusArea.textContent = "‡πÇ‡∏õ‡∏£‡∏î‡πÉ‡∏™‡πà API Key ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå";
                             statusArea.classList.remove('text-green-500', 'text-red-600');
                             statusArea.classList.add('text-amber-500');
                        }
                    }
            
            
                    // --- UI MANAGEMENT ---
            
                    /**
                     * Hides all results sections and resets the accordion state.
                     */
                    function hideResults() {
                        spoilerHeaders.classList.add('hidden');
                        
                        // Collapse all accordions and reset arrow
                        document.querySelectorAll('.accordion-header').forEach(header => {
                            const targetId = header.getAttribute('data-target');
                            const content = document.getElementById(targetId);
                            const arrow = document.querySelector(`[data-arrow="${targetId}"]`);
            
                            if (content.classList.contains('expanded')) {
                                content.classList.remove('expanded');
                            }
                            if (arrow.classList.contains('rotate-180')) {
                                arrow.classList.remove('rotate-180');
                            }
                            
                            // Set initial border-radius to ensure rounded corners on all items
                            header.classList.add('rounded-xl');
                            header.classList.remove('rounded-t-xl');
                        });
                        
                        // Clear content
                        scenarioTitle.textContent = '';
                        gradeLevel.textContent = '';
                        rootCauseText.textContent = '';
                        immediateSolutionText.textContent = '';
                        preventativeMeasuresText.textContent = '';
                        // Only update the main description text placeholder
                        eventDescriptionText.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå...';
                    }
            
                    /**
                     * Shows the loading indicator.
                     */
                    function showLoading() {
                        generateButton.disabled = true;
                        statusArea.innerHTML = '<span class="loading-ring mr-2"></span> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô...';
                        statusArea.classList.remove('text-red-600', 'text-green-500');
                        statusArea.classList.add('text-blue-400'); /* Use blue-400 for loading status on dark BG */
                        eventDescriptionText.textContent = '...‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...';
                    }
            
                    /**
                     * Shows an error message with specific handling for API errors.
                     */
                    function showError(message) {
                        generateButton.disabled = false;
                        let displayMessage = message;
                        
                        if (message.includes("Model is overloaded")) {
                            displayMessage = "‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏°‡∏µ‡∏†‡∏≤‡∏£‡∏∞‡∏á‡∏≤‡∏ô‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ (503 Service Unavailable) ‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏≠ 2-3 ‡∏ô‡∏≤‡∏ó‡∏µ ‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á";
                        } else if (message.includes("status 401") || message.includes("status 400") || message.includes("API key not valid")) {
                            displayMessage = "API Key ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (401/400) ‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÉ‡∏™‡πà‡∏Ñ‡∏µ‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ñ‡∏µ‡∏¢‡πå‡πÉ‡∏´‡∏°‡πà";
                        } else if (message.includes("status 403")) {
                            displayMessage = "‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ñ‡∏π‡∏Å‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò (403) ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå, ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Billing, ‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤‡∏Ç‡∏≠‡∏á API Key";
                        } else if (message.includes("Failed to fetch data after multiple retries")) {
                            displayMessage = "‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ (Network/Transient Failure) ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á";
                        }
                        
                        statusArea.textContent = `‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${displayMessage}`;
                        statusArea.classList.remove('text-blue-400', 'text-green-500');
                        statusArea.classList.add('text-red-600');
                        eventDescriptionText.textContent = '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÑ‡∏î‡πâ';
                    }
            
                    /**
                     * Toggles the visibility of an accordion content section.
                     * @param {HTMLElement} header - The clicked accordion header button.
                     */
                    function toggleAccordion(header) {
                        // Check if the scenario has been generated (prevent spoiler click on empty data)
                        if (!scenarioTitle.textContent && header.getAttribute('data-target') !== 'eventDescriptionContent') {
                            return;
                        }
                    
                        const targetId = header.getAttribute('data-target');
                        const content = document.getElementById(targetId);
                        const arrow = document.querySelector(`[data-arrow="${targetId}"]`);
            
                        const isExpanded = content.classList.contains('expanded');
                        
                        // 1. Close all other accordions (Keep the one being clicked open if it was closed)
                        document.querySelectorAll('.collapsible-content.expanded').forEach(expandedContent => {
                            // Collapse only if it's not the one we are about to expand or if we are clicking to collapse the current one
                            if (expandedContent.id !== targetId || isExpanded) {
                                expandedContent.classList.remove('expanded');
                                document.querySelector(`[data-target="${expandedContent.id}"]`).classList.add('rounded-xl');
                                document.querySelector(`[data-target="${expandedContent.id}"]`).classList.remove('rounded-t-xl');
                                document.querySelector(`[data-arrow="${expandedContent.id}"]`).classList.remove('rotate-180');
                            }
                        });
            
                        // 2. Toggle the current one if it was not already collapsed in step 1 (i.e., if we clicked to expand it)
                        if (!isExpanded) {
                            content.classList.add('expanded');
                            arrow.classList.add('rotate-180');
                            header.classList.remove('rounded-xl');
                            header.classList.add('rounded-t-xl');
            
                            // If this is the RCA (spoiler), reveal the Scenario Title and Grade Level
                            if (header.getAttribute('data-is-spoiler') === 'true') {
                                spoilerHeaders.classList.remove('hidden');
                                spoilerHeaders.classList.add('fade-in');
                            }
                        }
                    }
            
                    /**
                     * Displays the generated scenario data in the UI and expands the Event Description.
                     */
                    function displayScenario(data) {
                        // Update Text Content
                        scenarioTitle.textContent = data.scenarioTitle;
                        gradeLevel.textContent = `‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢: ${data.gradeLevel}`;
                        eventDescriptionText.textContent = data.eventDescription;
                        rootCauseText.textContent = data.rootCauseAnalysis;
                        immediateSolutionText.textContent = data.immediateSolution;
                        preventativeMeasuresText.textContent = data.preventativeMeasures;
            
                        // Update Status
                        statusArea.textContent = "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏•‡∏≠‡∏á‡∏≠‡πà‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á";
                        statusArea.classList.remove('text-red-600', 'text-blue-400');
                        statusArea.classList.add('text-green-500');
                        
                        generateButton.disabled = false;
                        
                        // Explicitly expand the Event Description accordion upon success
                        const eventHeader = document.querySelector('[data-target="eventDescriptionContent"]');
                        if (eventHeader) {
                             // Close all first
                             document.querySelectorAll('.collapsible-content.expanded').forEach(expandedContent => {
                                expandedContent.classList.remove('expanded');
                                document.querySelector(`[data-target="${expandedContent.id}"]`).classList.add('rounded-xl');
                                document.querySelector(`[data-target="${expandedContent.id}"]`).classList.remove('rounded-t-xl');
                                document.querySelector(`[data-arrow="${expandedContent.id}"]`).classList.remove('rotate-180');
                             });
            
                             // Then open the event description
                             toggleAccordion(eventHeader);
                        }
                    }
            
            
                    // --- MAIN LOGIC ---
            
                    /**
                     * Handles the API call and scenario generation.
                     */
                    async function generateScenario() {
                        if (!userApiKey) {
                            statusArea.textContent = "‡πÇ‡∏õ‡∏£‡∏î‡πÉ‡∏™‡πà Gemini API Key ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå.";
                            statusArea.classList.remove('text-blue-400', 'text-green-500');
                            statusArea.classList.add('text-red-600');
                            showApiKeySection();
                            return;
                        }
            
                        hideResults();
                        showLoading();
                        
                        const userQuery = "Generate a new, unique scenario for a Combined Cycle Power Plant failure or startup abort, including the full root cause analysis, immediate solution, and long-term preventative measures. Ensure all output is in a professional Thai engineering report format.";
            
                        const payload = {
                            contents: [{ parts: [{ text: userQuery }] }],
                            systemInstruction: { parts: [{ text: systemPrompt }] },
                            generationConfig: {
                                responseMimeType: "application/json",
                                responseSchema: responseSchema
                            }
                        };
                        
                        const dynamicApiUrl = `https://generativelanguage.googleapis.com/v1beta/models/${GEMINI_MODEL}:generateContent?key=${userApiKey}`;
            
            
                        try {
                            const response = await fetchWithRetry(dynamicApiUrl, {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify(payload)
                            });
                            
                            const result = await response.json();
            
                            if (result.error && result.error.message) {
                                throw new Error(result.error.message);
                            }
            
                            const jsonText = result.candidates?.[0]?.content?.parts?.[0]?.text;
                            if (!jsonText) {
                                throw new Error("API returned no content or an unexpected JSON structure.");
                            }
            
                            const scenarioData = JSON.parse(jsonText);
                            displayScenario(scenarioData);
            
                        } catch (error) {
                            console.error("Scenario generation failed:", error);
                            showError(error.message); 
                        }
                    }
            
            
                    // --- INITIALIZATION ---
            
                    // Event Listeners
                    generateButton.addEventListener('click', generateScenario);
                    saveApiKeyButton.addEventListener('click', saveApiKey);
                    
                    // Settings Gear Button Listener
                    settingsGearButton.addEventListener('click', () => {
                         // Toggle visibility of the API section
                         if (apiKeySection.classList.contains('hidden-content')) {
                             showApiKeySection();
                         } else {
                             // If the key is valid, hide it on toggle click
                             if (userApiKey) {
                                hideApiKeySection();
                             }
                         }
                    });
                    
                    window.onload = () => {
                         // Initialize accordion headers after DOM load
                         accordionHeaders = document.querySelectorAll('.accordion-header');
                         // Attach click listener to all accordion headers
                         accordionHeaders.forEach(header => {
                            header.addEventListener('click', () => toggleAccordion(header));
                         });
            
                         // Update model badge display
                         modelBadge.textContent = `Model: ${GEMINI_MODEL}`;
                         
                         // 1. Load key first (this handles hiding/showing the section based on key presence)
                         const keyLoaded = loadApiKey(); 
            
                         // 2. Set initial status based on key presence
                         if (!keyLoaded) {
                             statusArea.textContent = "‡πÇ‡∏õ‡∏£‡∏î‡πÉ‡∏™‡πà API Key ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå";
                             statusArea.classList.remove('text-blue-400', 'text-green-500', 'text-red-600');
                             statusArea.classList.add('text-amber-500');
                         } else {
                             statusArea.textContent = "API Key ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô! ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° '‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Ç‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏•‡∏≠‡∏á.";
                             statusArea.classList.remove('text-blue-400', 'text-red-600', 'text-amber-500');
                             statusArea.classList.add('text-green-500');
                         }
                    };
                </script>
            </body>
        </section>
    </main>
    <div class="hidden fixed inset-0 z-40" id="modal">
        <div class="fixed inset-0 bg-gray-900 modal-backdrop-transition opacity-0" id="modal-backdrop"></div>
        <div class="fixed inset-0 flex items-center justify-center p-4 modal-content-transition scale-95 opacity-0" id="modal-content-box">
            <div class="modal-content bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto relative p-8">
                <h3 class="text-3xl font-bold text-egat-blue mb-4 border-b pb-2" id="modal-title"></h3>
                <div class="text-gray-700 space-y-4" id="modal-body">
                </div>
                <button class="absolute top-4 right-4 text-gray-400 hover:text-gray-800 transition duration-300" onclick="closeModal()">
                    <svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18 6L6 18"></path>
                        <path d="M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <div class="hidden">
        <div id="detail-content-intro">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">Introduction and Organizational Structure</h3>
            <span class="hidden" id="detail-topic-intro">Organizational Structure and Key Responsibilities of C&amp;I Team in Power Plant</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Background and Evolution</h4>
                <p class="text-gray-600">‡∏á‡∏≤‡∏ô C&amp;I ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏£‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏Ç‡∏≠‡∏á ‡∏Å‡∏ü‡∏ú. ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏ß‡∏¥‡∏ß‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏ö‡∏ö‡∏≠‡∏∞‡∏ô‡∏≤‡∏•‡πá‡∏≠‡∏Å‡πÑ‡∏õ‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÉ‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Mission and Significance</h4>
                <p class="text-gray-600">‡∏°‡∏∏‡πà‡∏á‡πÄ‡∏ô‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">C&amp;I Team Structure</h4>
                <p class="text-gray-600">‡πÅ‡∏ö‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏¢‡πà‡∏≠‡∏¢‡∏ï‡∏≤‡∏°‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö ‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏´‡∏•‡∏±‡∏Å (DCS), ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢, ‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Key Team Responsibilities</h4>
                <ul class="list-disc pl-5 space-y-1 text-gray-600">
                    <li>‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÅ‡∏•‡∏∞‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÄ‡∏ä‡∏¥‡∏á‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô (PM)</li>
                    <li>‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°</li>
                    <li>‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ</li>
                </ul>
            </section>
        </div>
        <div id="detail-content-core_work">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">Core C&amp;I Functions</h3>
            <span class="hidden" id="detail-topic-core_work">DCS and PLC maintenance in power generation.</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Primary Control Systems (DCS/PLC)</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡πÄ‡∏ä‡πà‡∏ô DCS (Distributed Control System) ‡πÅ‡∏•‡∏∞ PLC (Programmable Logic Controller) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Instrumentation and Sensors</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á ‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤ ‡πÅ‡∏•‡∏∞‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ß‡∏±‡∏î‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏• ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏î‡∏±‡∏ö ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Specialized Work and Technology</h4>
                <p class="text-gray-600">‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (Safety Instrumented Systems - SIS), ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÄ‡∏û‡∏•‡∏¥‡∏á‡πÑ‡∏´‡∏°‡πâ (Fire and Gas), ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏±‡∏á‡∏´‡∏±‡∏ô (Turbine Control Systems)</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Technical Documentation Management</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏ó‡∏≥ ‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÅ‡∏ö‡∏ö‡πÅ‡∏õ‡∏•‡∏ô (Drawings), ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ (Manuals), ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡∏ö‡∏≥‡∏£‡∏∏‡∏á (Maintenance Records) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</p>
            </section>
        </div>
        <div id="detail-content-system_overview">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">Control and Instrumentation Systems</h3>
            <span class="hidden" id="detail-topic-system_overview">Power Plant Control Systems (DCS/PLC, Sensors, and Safety Systems)</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Primary Control Systems (DCS/PLC)</h4>
                <p class="text-gray-600">‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏ö‡∏ö‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏®‡∏π‡∏ô‡∏¢‡πå (Distributed Architecture)</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Sensors and Transducers</h4>
                <p class="text-gray-600">‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏õ‡∏•‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û (‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô, ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô) ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Safety Systems</h4>
                <p class="text-gray-600">‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå ‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£ ‡πÅ‡∏•‡∏∞‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° ‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏∞‡∏ö‡∏ö ESD (Emergency Shutdown)</p>
            </section>
        </div>
        <div id="detail-content-maintenance">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">Maintenance and Repair</h3>
            <span class="hidden" id="detail-topic-maintenance">Preventive and Corrective Maintenance for C&amp;I systems including calibration standards</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Preventive Maintenance (PM)</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡πÅ‡∏ú‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß‡∏Ç‡∏≠‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå ‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà, ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏ï‡∏π‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°, ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏≤‡∏¢‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Corrective Maintenance (CM)</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Calibration and Standards</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏™‡∏≤‡∏Å‡∏• (‡πÄ‡∏ä‡πà‡∏ô ISO/IEC 17025) ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Spares and Tool Management</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (Critical Spares) ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏™‡∏≠‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ó‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
            </section>
        </div>
        <div id="detail-content-safety">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">Safety and Compliance</h3>
            <span class="hidden" id="detail-topic-safety">Safety standards, compliance, and risk management for C&amp;I systems (e.g., IEC 61511)</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Standards and Regulations</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô IEC 61511 (Safety Instrumented Systems) ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á (Hazardous Areas)</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Training and Certification</h4>
                <p class="text-gray-600">‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£ C&amp;I ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤/‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏™‡∏π‡∏á</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">C&amp;I Risk Management</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ö‡∏£‡∏£‡πÄ‡∏ó‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ã‡∏∂‡πà‡∏á‡∏≠‡∏≤‡∏à‡∏™‡πà‡∏á‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</p>
            </section>
        </div>
        <div id="detail-content-future">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">Technology and Future</h3>
            <span class="hidden" id="detail-topic-future">Digital Transformation, Cybersecurity, and future trends in C&amp;I maintenance</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Digital Transformation and Industry 4.0</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ IoT, Cloud Computing ‡πÅ‡∏•‡∏∞ AI ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á C&amp;I ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÄ‡∏ä‡∏¥‡∏á‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå (Predictive Maintenance)</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Cybersecurity</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏° (ICS) ‡∏à‡∏≤‡∏Å‡∏†‡∏±‡∏¢‡∏Ñ‡∏∏‡∏Å‡∏Ñ‡∏≤‡∏°‡∏ó‡∏≤‡∏á‡πÑ‡∏ã‡πÄ‡∏ö‡∏≠‡∏£‡πå ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡∏¥‡πà‡∏á‡πÉ‡∏ô‡∏¢‡∏∏‡∏Ñ‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Future Trends</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î‡πÑ‡∏£‡πâ‡∏™‡∏≤‡∏¢ (Wireless Instrumentation) ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ö‡∏π‡∏£‡∏ì‡∏≤‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢ (Vendor Neutral Systems)</p>
            </section>
        </div>
        <div id="detail-content-cc_brayton_cycle">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">C&amp;I Role in Brayton Cycle (Gas Turbine)</h3>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Fuel-Air Ratio Control</h4>
                <p class="text-gray-600">‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏Å‡∏≤‡∏® (Air/Fuel Ratio) ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ß‡∏≤‡∏•‡πå‡∏ß‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡πÄ‡∏ú‡∏≤‡πÑ‡∏´‡∏°‡πâ‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏•‡∏∞‡∏•‡∏î‡∏°‡∏•‡∏û‡∏¥‡∏© (NOx)</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Temperature and Vibration Monitoring</h4>
                <p class="text-gray-600">‡πÄ‡∏ù‡πâ‡∏≤‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏Å‡πä‡∏≤‡∏ã‡πÑ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢ (Exhaust Gas Temperature - EGT) ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏ô‡∏™‡∏∞‡πÄ‡∏ó‡∏∑‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏±‡∏á‡∏´‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢</p>
            </section>
        </div>
        <div id="detail-content-cc_rankine_cycle">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">C&amp;I Role in Rankine Cycle (Steam Turbine)</h3>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Steam Parameters Control</h4>
                <p class="text-gray-600">‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏´‡∏°‡πâ‡∏≠‡πÑ‡∏≠‡∏ô‡πâ‡∏≥ (Drum Level Control), ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÑ‡∏≠‡∏ô‡πâ‡∏≥ (Superheater Temperature Control), ‡πÅ‡∏•‡∏∞‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡πÑ‡∏≠‡∏ô‡πâ‡∏≥</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Protection and Governor Systems</h4>
                <p class="text-gray-600">‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô (Overspeed Protection), ‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏≤‡∏•‡πå‡∏ß‡πÑ‡∏≠‡∏ô‡πâ‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤ (Stop &amp; Governor Valves), ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏ö‡∏£‡∏¥‡πà‡∏á</p>
            </section>
        </div>
        <div id="detail-content-cc_gasturbine">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">Gas Turbine (GT) and Combustion</h3>
            <span class="hidden" id="detail-topic-cc_gasturbine">Gas Turbine and Combustion control systems in combined cycle power plants</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">GT Principles and Cycle</h4>
                <p class="text-gray-600">‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏ñ‡∏π‡∏Å‡∏≠‡∏±‡∏î‡πÇ‡∏î‡∏¢‡∏Ñ‡∏≠‡∏°‡πÄ‡∏û‡∏£‡∏™‡πÄ‡∏ã‡∏≠‡∏£‡πå (Compressor) ‡∏ú‡∏™‡∏°‡∏Å‡∏±‡∏ö‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏ú‡∏≤‡πÑ‡∏´‡∏°‡πâ (Combustion Chamber) ‡πÅ‡∏•‡∏∞‡∏Å‡πä‡∏≤‡∏ã‡∏£‡πâ‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏∞‡∏Ç‡∏±‡∏ö‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏±‡∏á‡∏´‡∏±‡∏ô (Turbine) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡∏•‡∏¥‡∏ï‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏è‡∏à‡∏±‡∏Å‡∏£ Brayton ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏Å‡∏±‡∏á‡∏´‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">C&amp;I Functions</h4>
                <p class="text-gray-600">‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤: Flame Detectors, Thermocouples/RTDs, Pressure Transmitters, Flow Meters ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏•‡∏¥‡∏á, ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏ü‡πÑ‡∏´‡∏°‡πâ</p>
            </section>
        </div>
        <div id="detail-content-cc_hrsg">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">HRSG (Heat Recovery Steam Generator)</h3>
            <span class="hidden" id="detail-topic-cc_hrsg">Control and Instrumentation for Heat Recovery Steam Generator (HRSG)</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Process Overview</h4>
                <p class="text-gray-600">HRSG ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ô‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏ó‡∏¥‡πâ‡∏á‡∏à‡∏≤‡∏Å‡πÑ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢ GT ‡∏°‡∏≤‡∏ú‡∏•‡∏¥‡∏ï‡πÑ‡∏≠‡∏ô‡πâ‡∏≥ ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏™‡∏π‡∏á ‡∏Å‡∏•‡∏≤‡∏á ‡πÅ‡∏•‡∏∞‡∏ï‡πà‡∏≥ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏±‡∏ö‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏±‡∏á‡∏´‡∏±‡∏ô‡πÑ‡∏≠‡∏ô‡πâ‡∏≥</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">C&amp;I Functions</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°: Feedwater Control (‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏î‡∏£‡∏±‡∏°), Attemperator/Desuperheater Control (‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÑ‡∏≠‡∏ô‡πâ‡∏≥‡∏≠‡∏≠‡∏Å), ‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Safety Valves</p>
            </section>
        </div>
        <div id="detail-content-cc_steamturbine">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">Steam Turbine (ST) and BOP</h3>
            <span class="hidden" id="detail-topic-cc_steamturbine">Steam Turbine and Balance of Plant control systems in combined cycle power plants</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Steam Turbine Control</h4>
                <p class="text-gray-600">‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß (Governor) ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô (Overspeed Trip System) ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏á‡∏≤‡∏ô C&amp;I ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</p>
            </section>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">BOP (Balance of Plant)</h4>
                <p class="text-gray-600">‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏ù‡πâ‡∏≤‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÄ‡∏™‡∏£‡∏¥‡∏° ‡πÄ‡∏ä‡πà‡∏ô Condenser (‡∏ß‡∏±‡∏î‡∏™‡∏π‡∏ç‡∏ç‡∏≤‡∏Å‡∏≤‡∏®‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥), Cooling Water Pumps, ‡πÅ‡∏•‡∏∞ Demineralizer Plant</p>
            </section>
        </div>
        <div id="detail-content-cc_dcs">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">DCS (Distributed Control System)</h3>
            <span class="hidden" id="detail-topic-cc_dcs">DCS in Combined Cycle Power Plant.</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Key Function</h4>
                <p class="text-gray-600">‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏Å‡∏≤‡∏£, ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•, ‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏≠‡∏á‡πÇ‡∏£‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏ö‡∏ö‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏®‡∏π‡∏ô‡∏¢‡πå (Distributed Architecture)</p>
            </section>
        </div>
        <div id="detail-content-cc_bms">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">BMS (Burner Management System)</h3>
            <span class="hidden" id="detail-topic-cc_bms">BMS in Combined Cycle Power Plant.</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Key Function</h4>
                <p class="text-gray-600">‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏∏‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏î‡∏±‡∏ö‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏ï‡∏≤‡πÄ‡∏ú‡∏≤ (Combustor) ‡πÉ‡∏ô GT ‡∏´‡∏£‡∏∑‡∏≠ Burner ‡πÉ‡∏ô Auxiliary Boiler ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏¥‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î</p>
            </section>
        </div>
        <div id="detail-content-cc_vibration">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">Vibration Monitoring System</h3>
            <span class="hidden" id="detail-topic-cc_vibration">Vibration Monitoring System in Combined Cycle Power Plant</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Key Function</h4>
                <p class="text-gray-600">‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Probes ‡πÅ‡∏•‡∏∞ Sensors ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏ô‡∏™‡∏∞‡πÄ‡∏ó‡∏∑‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡πÅ‡∏ö‡∏£‡∏¥‡πà‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏•‡∏≤‡πÉ‡∏ô‡∏Å‡∏±‡∏á‡∏´‡∏±‡∏ô GT ‡πÅ‡∏•‡∏∞ ST ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏™‡∏†‡∏≤‡∏û‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡πÅ‡∏ö‡∏ö Real-time</p>
            </section>
        </div>
        <div id="detail-content-cc_cems">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">CEMS (Continuous Emission Monitoring)</h3>
            <span class="hidden" id="detail-topic-cc_cems">CEMS in Combined Cycle Power Plant.</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Key Function</h4>
                <p class="text-gray-600">‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡∏≤‡∏á‡πÄ‡∏Ñ‡∏°‡∏µ‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏õ‡∏•‡πà‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏≤‡∏¢ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏±‡∏î‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏°‡∏•‡∏û‡∏¥‡∏© (‡πÄ‡∏ä‡πà‡∏ô NOx, CO, SO2) ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°</p>
            </section>
        </div>
        <div id="detail-content-sp_dc_generation">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">C&amp;I Role in DC Generation (PV Array)</h3>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Monitoring and Performance Check</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÅ‡∏•‡∏∞‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏ï‡∏£‡∏á (DC) ‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö String ‡πÅ‡∏•‡∏∞ Array ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û (Performance Monitoring) ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÄ‡∏ä‡πà‡∏ô Hot Spots</p>
            </section>
        </div>
        <div id="detail-content-sp_ac_conversion">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">C&amp;I Role in AC Conversion (Inverter)</h3>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Inverter Control and Grid Synchronization</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° Inverter ‡πÉ‡∏´‡πâ‡πÅ‡∏õ‡∏•‡∏á DC ‡πÄ‡∏õ‡πá‡∏ô AC ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å (Active/Reactive Power) ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ã‡∏¥‡∏á‡πÇ‡∏Ñ‡∏£‡πÑ‡∏ô‡∏ã‡πå‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏Ç‡πà‡∏≤‡∏¢</p>
            </section>
        </div>
        <div id="detail-content-sp_inverters">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">Inverter and MPPT Control</h3>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">MPPT Principle</h4>
                <p class="text-gray-600">MPPT (Maximum Power Point Tracking) ‡∏Ñ‡∏∑‡∏≠‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÅ‡∏ú‡∏á‡πÇ‡∏ã‡∏•‡∏≤‡∏£‡πå‡πÄ‡∏ã‡∏•‡∏•‡πå‡∏ú‡∏•‡∏¥‡∏ï‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏™‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á Inverter</p>
            </section>
        </div>
        <div id="detail-content-sp_weather">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">Weather Monitoring Station</h3>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Sensors and Measurements</h4>
                <p class="text-gray-600">‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Pyranometer (‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡πÅ‡∏™‡∏á), Thermocouples (‡∏ß‡∏±‡∏î‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏ú‡∏á/‡∏≠‡∏≤‡∏Å‡∏≤‡∏®), ‡πÅ‡∏•‡∏∞ Anemometer (‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏•‡∏°) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Performance Ratio</p>
            </section>
        </div>
        <div id="detail-content-sp_protection">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">Safety and Grid Protection</h3>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Key Protection Systems</h4>
                <p class="text-gray-600">‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‡πÄ‡∏ä‡πà‡∏ô Ground Fault Detection, Anti-Islanding Protection (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡πÄ‡∏Ç‡πâ‡∏≤‡πÇ‡∏Ñ‡∏£‡∏á‡∏Ç‡πà‡∏≤‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏Ñ‡∏£‡∏á‡∏Ç‡πà‡∏≤‡∏¢‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß), ‡πÅ‡∏•‡∏∞ Surge Protection Devices</p>
            </section>
        </div>
        <div id="detail-content-sp_scada">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">SCADA/PPC (Plant Controller)</h3>
            <span class="hidden" id="detail-topic-sp_scada">SCADA/PPC in Solar Power Plant.</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Control Function</h4>
                <p class="text-gray-600">‡∏£‡∏∞‡∏ö‡∏ö SCADA ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏ù‡πâ‡∏≤‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÇ‡∏£‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏™‡πà‡∏ß‡∏ô PPC (Power Plant Controller) ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏Ç‡πà‡∏≤‡∏¢ (System Operator)</p>
            </section>
        </div>
        <div id="detail-content-sp_tracker">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">Tracking System C&amp;I</h3>
            <span class="hidden" id="detail-topic-sp_tracker">C&amp;I for Solar Tracking System.</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Control and Maintenance</h4>
                <p class="text-gray-600">‡πÉ‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà‡πÇ‡∏£‡∏á‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå (Tracker) ‡∏á‡∏≤‡∏ô C&amp;I ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå, Limit Switches, ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏ú‡∏á‡πÄ‡∏ã‡∏•‡∏•‡πå‡∏´‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥</p>
            </section>
        </div>
        <div id="detail-content-sp_dccomps">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">DC Component Monitoring</h3>
            <span class="hidden" id="detail-topic-sp_dccomps">DC component monitoring in solar power plants.</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Monitoring Technique</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• DC ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ String ‡πÅ‡∏•‡∏∞ Combiner Box ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏´‡∏≤ String ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥ (String Mismatch)</p>
            </section>
        </div>
        <div id="detail-content-sp_ir_temp">
            <h3 class="text-2xl font-bold text-egat-blue mb-4">IR Temperature Sensing</h3>
            <span class="hidden" id="detail-topic-sp_ir_temp">IR Temperature Sensing for PV arrays.</span>
            <section class="mb-6">
                <h4 class="text-lg font-semibold text-gray-700 mt-4 mb-2">Monitoring Technique</h4>
                <p class="text-gray-600">‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô (Infrared Camera) ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ã‡πá‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ß‡∏±‡∏î‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏™‡∏π‡∏á (‡πÄ‡∏ä‡πà‡∏ô Hot Spots) ‡∏ö‡∏ô‡πÅ‡∏ú‡∏á‡πÄ‡∏ã‡∏•‡∏•‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏∏‡∏î‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠</p>
            </section>
        </div>
    </div>
    <script>
        // Data for modal content (Uses the hidden divs)
        const modalData = {
            'intro': document.getElementById('detail-content-intro').innerHTML,
            'core_work': document.getElementById('detail-content-core_work').innerHTML,
            'system_overview': document.getElementById('detail-content-system_overview').innerHTML,
            'maintenance': document.getElementById('detail-content-maintenance').innerHTML,
            'safety': document.getElementById('detail-content-safety').innerHTML,
            'future': document.getElementById('detail-content-future').innerHTML,
            'cc_brayton_cycle': document.getElementById('detail-content-cc_brayton_cycle').innerHTML,
            'cc_rankine_cycle': document.getElementById('detail-content-cc_rankine_cycle').innerHTML,
            'cc_gasturbine': document.getElementById('detail-content-cc_gasturbine').innerHTML,
            'cc_hrsg': document.getElementById('detail-content-cc_hrsg').innerHTML,
            'cc_steamturbine': document.getElementById('detail-content-cc_steamturbine').innerHTML,
            'cc_dcs': document.getElementById('detail-content-cc_dcs').innerHTML,
            'cc_bms': document.getElementById('detail-content-cc_bms').innerHTML,
            'cc_vibration': document.getElementById('detail-content-cc_vibration').innerHTML,
            'cc_cems': document.getElementById('detail-content-cc_cems').innerHTML,
            'sp_dc_generation': document.getElementById('detail-content-sp_dc_generation').innerHTML,
            'sp_ac_conversion': document.getElementById('detail-content-sp_ac_conversion').innerHTML,
            'sp_inverters': document.getElementById('detail-content-sp_inverters').innerHTML,
            'sp_weather': document.getElementById('detail-content-sp_weather').innerHTML,
            'sp_protection': document.getElementById('detail-content-sp_protection').innerHTML,
            'sp_scada': document.getElementById('detail-content-sp_scada').innerHTML,
            'sp_tracker': document.getElementById('detail-content-sp_tracker').innerHTML,
            'sp_dccomps': document.getElementById('detail-content-sp_dccomps').innerHTML,
            'sp_ir_temp': document.getElementById('detail-content-sp_ir_temp').innerHTML,
        };

        // Modal Elements
        const modal = document.getElementById('modal');
        const modalBackdrop = document.getElementById('modal-backdrop');
        const modalContentBox = document.getElementById('modal-content-box');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');
        const modalContent = document.querySelector('.modal-content'); 

        // General Sections and Links
        const contentSections = document.querySelectorAll('.content-section');
        const navLinks = document.querySelectorAll('.nav-link');
        const detailCards = document.querySelectorAll('.detail-card');
        
        /**
         * Helper function to calculate the width of the scrollbar.
         * Used to prevent layout shift when modal is open and body scrolling is disabled.
         */
        function getScrollbarWidth() {
            // Create a temporary element to measure
            const outer = document.createElement('div');
            outer.style.visibility = 'hidden';
            outer.style.overflow = 'scroll'; // Show scrollbar
            outer.style.msOverflowStyle = 'scrollbar'; // IE
            document.body.appendChild(outer);

            const inner = document.createElement('div');
            outer.appendChild(inner);

            // Calculate width by subtracting the inner width from the outer width
            const scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);

            // Remove the temporary element
            outer.parentNode.removeChild(outer);

            return scrollbarWidth;
        }

        // Function to convert the flat section HTML into an accordion structure
        function createAccordionHTML(flatHTML) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = flatHTML;

            // Extract the main title and optional topic span
            const mainTitleElement = tempDiv.querySelector('h3');
            const topicElement = tempDiv.querySelector('span[id^="detail-topic-"]');
            
            // Get all sections which will be accordion items
            const sections = tempDiv.querySelectorAll('section');
            let accordionHTML = '';

            sections.forEach((section, index) => {
                const header = section.querySelector('h4');
                const contentBody = section.innerHTML.replace(header.outerHTML, ''); // Get content without H4
                
                // Set the first item to be open by default
                const isOpen = index === 0;
                const headerClasses = isOpen ? 'text-egat-blue' : 'text-gray-700';
                const iconClasses = isOpen ? 'rotate-180 text-egat-blue' : 'text-gray-500';

                accordionHTML += `
                    <div class="accordion-item border-b border-gray-200 last:border-b-0">
                        <button class="accordion-header w-full flex justify-between items-center py-4 text-left ${headerClasses} hover:text-egat-blue transition duration-200 focus:outline-none">
                            <h4 class="text-lg font-semibold mt-0 mb-0">${header.textContent}</h4>
                            <svg class="w-5 h-5 accordion-icon transform transition duration-300 ${iconClasses}" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div class="accordion-content overflow-hidden transition-all duration-300 ease-in-out" style="max-height: ${isOpen ? '500px' : '0'};">
                            <div class="py-2 pb-4 text-gray-600 space-y-3">
                                ${contentBody}
                            </div>
                        </div>
                    </div>
                `;
            });
            
            return {
                title: mainTitleElement ? mainTitleElement.textContent : 'Detail Information',
                content: accordionHTML
            };
        }

        // Function to show the content section
        function showSection(sectionId) {
            contentSections.forEach(section => {
                // Initial hide/fade out
                if (section.id !== sectionId) {
                    section.classList.add('hidden');
                    section.style.opacity = '0';
                }
            });

            // Fade in/show active section
            const activeSection = document.getElementById(sectionId);
            if (activeSection) {
                activeSection.classList.remove('hidden');
                // Use setTimeout for transition to work after removing 'hidden'
                setTimeout(() => {
                    activeSection.style.opacity = '1';
                }, 10); 
            }

	        window.scrollTo({ top: 0, behavior: 'smooth' });

            // Update active link style
            navLinks.forEach(link => {
                link.classList.remove('nav-active-link', 'font-bold');
            });

            // Set active style for the main link or the parent link
            let activeLink = document.querySelector(`.nav-link[data-target="${sectionId}"]`);
            if (activeLink) {
                activeLink.classList.add('nav-active-link', 'font-bold');
            } else {
                // Check if it's a dropdown item (like combined_cycle) and set the parent ('training') as active
                const parentLink = document.querySelector(`.nav-dropdown-link[data-target="${sectionId}"]`);
                const parentId = parentLink?.getAttribute('data-parent-target');
                if (parentId) {
                    activeLink = document.querySelector(`.nav-link[data-target="${parentId}"]`);
                    activeLink?.classList.add('nav-active-link', 'font-bold');
                }
            }
        }

        // Accordion Logic
        function setupAccordion(accordionContainer) {
            const accordionHeaders = accordionContainer.querySelectorAll('.accordion-header');

            accordionHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const item = header.closest('.accordion-item');
                    const content = item.querySelector('.accordion-content');
                    const icon = header.querySelector('.accordion-icon');
                    
                    const isOpening = content.style.maxHeight === '0px';

                    // Close all other items (enforce single open)
                    accordionHeaders.forEach(otherHeader => {
                        const otherItem = otherHeader.closest('.accordion-item');
                        const otherContent = otherItem.querySelector('.accordion-content');
                        const otherIcon = otherHeader.querySelector('.accordion-icon');
                        
                        if (otherItem !== item) {
                            otherContent.style.maxHeight = '0px';
                            otherIcon.classList.remove('rotate-180', 'text-egat-blue');
                            otherIcon.classList.add('text-gray-500');
                            otherHeader.classList.remove('text-egat-blue');
                            otherHeader.classList.add('text-gray-700');
                        }
                    });

                    // Toggle the clicked item
                    if (isOpening) {
                        // Open
                        content.style.maxHeight = content.scrollHeight + 'px';
                        icon.classList.add('rotate-180', 'text-egat-blue');
                        icon.classList.remove('text-gray-500');
                        header.classList.add('text-egat-blue');
                        header.classList.remove('text-gray-700');

                    } else {
                        // Close
                        content.style.maxHeight = '0px';
                        icon.classList.remove('rotate-180', 'text-egat-blue');
                        icon.classList.add('text-gray-500');
                        header.classList.remove('text-egat-blue');
                        header.classList.add('text-gray-700');
                    }
                });

                // Set a temporary max-height to ensure the transition works on open (for the first element)
                const content = header.closest('.accordion-item').querySelector('.accordion-content');
                if (content.style.maxHeight !== '0px') {
                    content.style.maxHeight = content.scrollHeight + 'px';
                }
            });
        }


        // Function to open the detail modal
        function openModal(detailId) {
            const content = modalData[detailId];
            if (!content) return;

            // 1. Convert flat content to accordion HTML
            const accordion = createAccordionHTML(content);

            // 2. Populate modal
            modalTitle.textContent = accordion.title;
            modalBody.innerHTML = accordion.content;
            
            // 3. Show modal and apply transition classes
            modal.classList.remove('hidden');
            
            // NEW FIX: Add padding to body to prevent layout shift from scrollbar disappearing
            const scrollbarWidth = getScrollbarWidth();
            const hasScrollbar = document.body.scrollHeight > window.innerHeight;
            
            if (hasScrollbar && scrollbarWidth > 0) {
                 document.body.style.paddingRight = `${scrollbarWidth}px`;
            }

            document.body.style.overflow = 'hidden'; 

            setTimeout(() => {
                modalBackdrop.style.opacity = '0.75';
                modalContentBox.classList.remove('scale-95', 'opacity-0');
                modalContentBox.classList.add('scale-100', 'opacity-100');
                
                // 4. Setup accordion functionality AFTER content is inserted and transitions start
                setupAccordion(modalBody);
            }, 10);
        }

        // Function to close the detail modal
        function closeModal() {
            modalBackdrop.style.opacity = '0';
            modalContentBox.classList.remove('scale-100', 'opacity-100');
            modalContentBox.classList.add('scale-95', 'opacity-0');
            
            // Revert changes after transition is complete
            setTimeout(() => {
                modal.classList.add('hidden');

                // NEW FIX: Restore body styles to re-enable scrolling and remove padding
                document.body.style.overflow = '';
                document.body.style.paddingRight = ''; 
            }, 300); // Wait for the transition to finish
        }

        // Initialize on DOMContentLoaded
        document.addEventListener('DOMContentLoaded', () => {
            // Set 'Overview' as default active section
            showSection('overview');

            // 1. Event Listener for Detail Cards to open Modal
            detailCards.forEach(card => {
                card.addEventListener('click', () => {
                    const detailId = card.dataset.detail;
                    openModal(detailId);
                });
            });
            
            // 2. Event Listener for Menu Links (including Dropdown Links) to switch sections
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    // Prevent default for main links that only serve as dropdown headers (href="#")
                    if (link.getAttribute('href') === '#') {
                        e.preventDefault(); 
                        return;
                    }
                    
                    e.preventDefault(); 
                    const sectionId = link.getAttribute('data-target');
                    showSection(sectionId);
                    
                    // Close dropdown menu after clicking an item
                    if (link.classList.contains('nav-dropdown-link')) {
                         // Use .group-hover to control the dropdown state, no immediate hiding is needed for good UX
                         // However, to force hide *after* a click, we can set display to none.
                         link.closest('.dropdown').querySelector('.dropdown-menu').style.display = 'none';
                    }
                });
            });


            // 3. Event Listener for Modal Backdrop/Outside click to close modal
            modalBackdrop.addEventListener('click', closeModal);
		
            modalContentBox.addEventListener('click', (e) => {
                // Close if click is directly on the modal content box (outside the inner content)
            	if (e.target === modalContentBox) {
            		closeModal();
       	        }
	        });
            
            // 4. Stop click propagation inside the modal content
            if (modalContent) {
                modalContent.addEventListener('click', (e) => {
                    e.stopPropagation(); 
                });
            }

            // 5. Close Modal on Escape key press
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                    closeModal();
                }
            });

            // 6. Manage Dropdown display state on hover
            document.querySelectorAll('.dropdown').forEach(dropdown => {
                const dropdownMenu = dropdown.querySelector('.dropdown-menu');
                // Use mouseenter/mouseleave to ensure display: block is set, overriding the initial CSS 'display: none'
                dropdown.addEventListener('mouseenter', () => {
                    dropdownMenu.style.display = 'block';
                });
                dropdown.addEventListener('mouseleave', () => {
                    // Use a short delay before hiding
                    setTimeout(() => {
                        if (!dropdown.matches(':hover')) {
                            dropdownMenu.style.display = 'none';
                        }
                    }, 500); 
                });
            });
        });
    </script>
    <button class="fixed bottom-6 right-6 bg-egat-yellow text-egat-blue p-3 rounded-full shadow-lg hover:bg-yellow-400 transition duration-300" id="darkModeToggle">
        <svg id="sunIcon" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
        </svg>
        <svg id="moonIcon" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
        </svg>
    </button>
    <script>
        const toggle = document.getElementById('darkModeToggle');
        const sunIcon = document.getElementById('sunIcon');
        const moonIcon = document.getElementById('moonIcon');
        
        // --- Initial State Check (New) ---
        // Since the body has 'dark' class by default, hide the moon (current state)
        // and show the sun (next state).
        if (document.body.classList.contains('dark')) {
            moonIcon.classList.add('hidden');
            sunIcon.classList.remove('hidden');
        } else {
            // Fallback for if 'dark' class is removed from the HTML
            sunIcon.classList.add('hidden');
            moonIcon.classList.remove('hidden');
        }
        // ---------------------------------
        
        toggle.addEventListener('click', () => {
            document.body.classList.toggle('dark');
        
            if (document.body.classList.contains('dark')) {
                // Switched to Dark Mode (Show Sun to toggle to Light)
                document.body.style.backgroundColor = '#1C2833';
                document.body.style.color = '#EAECEE';
                sunIcon.classList.remove('hidden'); // Show Sun
                moonIcon.classList.add('hidden');   // Hide Moon
            } else {
                // Switched to Light Mode (Show Moon to toggle to Dark)
                document.body.style.backgroundColor = '#ffffff';
                document.body.style.color = '#000000';
                sunIcon.classList.add('hidden');    // Hide Sun
                moonIcon.classList.remove('hidden'); // Show Moon
            }
        });
    </script>
</body>

</html>
